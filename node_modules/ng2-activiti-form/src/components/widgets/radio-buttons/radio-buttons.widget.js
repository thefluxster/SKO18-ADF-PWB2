/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
"use strict";
var __extends = (this && this.__extends) || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
};
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var core_1 = require("@angular/core");
var ng2_alfresco_core_1 = require("ng2-alfresco-core");
var widget_component_1 = require("./../widget.component");
var form_service_1 = require("../../../services/form.service");
var widget_visibility_service_1 = require("../../../services/widget-visibility.service");
var RadioButtonsWidget = (function (_super) {
    __extends(RadioButtonsWidget, _super);
    function RadioButtonsWidget(formService, visibilityService, logService) {
        var _this = _super.call(this) || this;
        _this.formService = formService;
        _this.visibilityService = visibilityService;
        _this.logService = logService;
        return _this;
    }
    RadioButtonsWidget.prototype.ngOnInit = function () {
        if (this.field && this.field.restUrl) {
            if (this.field.form.taskId) {
                this.getOptionsByTaskId();
            }
            else {
                this.getOptionsByProcessDefinitionId();
            }
        }
    };
    RadioButtonsWidget.prototype.getOptionsByTaskId = function () {
        var _this = this;
        this.formService
            .getRestFieldValues(this.field.form.taskId, this.field.id)
            .subscribe(function (result) {
            _this.field.options = result || [];
            _this.field.updateForm();
        }, function (err) { return _this.handleError(err); });
    };
    RadioButtonsWidget.prototype.getOptionsByProcessDefinitionId = function () {
        var _this = this;
        this.formService
            .getRestFieldValuesByProcessId(this.field.form.processDefinitionId, this.field.id)
            .subscribe(function (result) {
            _this.field.options = result || [];
            _this.field.updateForm();
        }, function (err) { return _this.handleError(err); });
    };
    RadioButtonsWidget.prototype.onOptionClick = function (optionSelected) {
        this.field.value = optionSelected;
        this.checkVisibility();
    };
    RadioButtonsWidget.prototype.checkVisibility = function () {
        this.visibilityService.refreshVisibility(this.field.form);
    };
    RadioButtonsWidget.prototype.handleError = function (error) {
        this.logService.error(error);
    };
    return RadioButtonsWidget;
}(widget_component_1.WidgetComponent));
RadioButtonsWidget = __decorate([
    core_1.Component({
        moduleId: module.id,
        selector: 'radio-buttons-widget',
        template: "<div class=\"radio-buttons-widget\"      [class.radio-buttons-widget__invalid]=\"!field.isValid\" [id]=\"field.id\" *ngIf=\"field?.isVisible\">     <label class=\"radio-buttons-widget__label\" [attr.for]=\"field.id\">{{field.name}}</label>     <div *ngFor=\"let opt of field.options\">         <label [id]=\"opt.id\" [attr.for]=\"field.id + '-' + opt.id\" class=\"mdl-radio mdl-js-radio\">             <input type=\"radio\"                    class=\"mdl-radio__button\"                    [checked]=\"field.value === opt.id\"                    [attr.id]=\"field.id + '-' + opt.id\"                    [attr.name]=\"field.id\"                    [attr.value]=\"opt.id\"                    [disabled]=\"field.readOnly\"                    (click)=\"onOptionClick(opt.id)\">             <span class=\"mdl-radio__label\">{{opt.name}}</span>         </label>     </div>     <span *ngIf=\"field.validationSummary\" class=\"mdl-textfield__error\">{{field.validationSummary}}</span> </div>",
        styles: [".radio-buttons-widget {}  .radio-buttons-widget__invalid .mdl-radio__label {     color: #d50000; }  .radio-buttons-widget__invalid .radio-buttons-widget__label {     color: #d50000; }  .radio-buttons-widget__invalid .radio-buttons-widget__label:after {     background-color: #d50000; }  .radio-buttons-widget__invalid .mdl-textfield__error {     visibility: visible !important; }"]
    }),
    __metadata("design:paramtypes", [form_service_1.FormService,
        widget_visibility_service_1.WidgetVisibilityService,
        ng2_alfresco_core_1.LogService])
], RadioButtonsWidget);
exports.RadioButtonsWidget = RadioButtonsWidget;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvd2lkZ2V0cy9yYWRpby1idXR0b25zL3JhZGlvLWJ1dHRvbnMud2lkZ2V0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7R0FlRzs7Ozs7Ozs7Ozs7Ozs7OztBQUVILHNDQUFrRDtBQUNsRCx1REFBK0M7QUFDL0MsMERBQXdEO0FBQ3hELCtEQUE2RDtBQUU3RCx5RkFBc0Y7QUFRdEYsSUFBYSxrQkFBa0I7SUFBUyxzQ0FBZTtJQUVuRCw0QkFBb0IsV0FBd0IsRUFDeEIsaUJBQTBDLEVBQzFDLFVBQXNCO1FBRjFDLFlBR0ksaUJBQU8sU0FDVjtRQUptQixpQkFBVyxHQUFYLFdBQVcsQ0FBYTtRQUN4Qix1QkFBaUIsR0FBakIsaUJBQWlCLENBQXlCO1FBQzFDLGdCQUFVLEdBQVYsVUFBVSxDQUFZOztJQUUxQyxDQUFDO0lBRUQscUNBQVEsR0FBUjtRQUNJLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO1lBQ25DLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7Z0JBQ3pCLElBQUksQ0FBQyxrQkFBa0IsRUFBRSxDQUFDO1lBQzlCLENBQUM7WUFBQyxJQUFJLENBQUMsQ0FBQztnQkFDSixJQUFJLENBQUMsK0JBQStCLEVBQUUsQ0FBQztZQUMzQyxDQUFDO1FBQ0wsQ0FBQztJQUNMLENBQUM7SUFFRCwrQ0FBa0IsR0FBbEI7UUFBQSxpQkFhQztRQVpHLElBQUksQ0FBQyxXQUFXO2FBQ1gsa0JBQWtCLENBQ2YsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUN0QixJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FDaEI7YUFDQSxTQUFTLENBQ04sVUFBQyxNQUF5QjtZQUN0QixLQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNLElBQUksRUFBRSxDQUFDO1lBQ2xDLEtBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDNUIsQ0FBQyxFQUNELFVBQUEsR0FBRyxJQUFJLE9BQUEsS0FBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsRUFBckIsQ0FBcUIsQ0FDL0IsQ0FBQztJQUNWLENBQUM7SUFFRCw0REFBK0IsR0FBL0I7UUFBQSxpQkFhQztRQVpHLElBQUksQ0FBQyxXQUFXO2FBQ1gsNkJBQTZCLENBQzFCLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLG1CQUFtQixFQUNuQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQUUsQ0FDaEI7YUFDQSxTQUFTLENBQ04sVUFBQyxNQUF5QjtZQUN0QixLQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNLElBQUksRUFBRSxDQUFDO1lBQ2xDLEtBQUksQ0FBQyxLQUFLLENBQUMsVUFBVSxFQUFFLENBQUM7UUFDNUIsQ0FBQyxFQUNELFVBQUEsR0FBRyxJQUFJLE9BQUEsS0FBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsRUFBckIsQ0FBcUIsQ0FDL0IsQ0FBQztJQUNWLENBQUM7SUFFRCwwQ0FBYSxHQUFiLFVBQWMsY0FBbUI7UUFDN0IsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsY0FBYyxDQUFDO1FBQ2xDLElBQUksQ0FBQyxlQUFlLEVBQUUsQ0FBQztJQUMzQixDQUFDO0lBRUQsNENBQWUsR0FBZjtRQUNJLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzlELENBQUM7SUFFRCx3Q0FBVyxHQUFYLFVBQVksS0FBVTtRQUNsQixJQUFJLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBRUwseUJBQUM7QUFBRCxDQTdEQSxBQTZEQyxDQTdEdUMsa0NBQWUsR0E2RHREO0FBN0RZLGtCQUFrQjtJQU45QixnQkFBUyxDQUFDO1FBQ1AsUUFBUSxFQUFFLE1BQU0sQ0FBQyxFQUFFO1FBQ25CLFFBQVEsRUFBRSxzQkFBc0I7UUFDaEMsUUFBUSxFQUFFLHk5QkFBeTlCO1FBQ24rQixNQUFNLEVBQUUsQ0FBQyw2WEFBNlgsQ0FBQztLQUMxWSxDQUFDO3FDQUdtQywwQkFBVztRQUNMLG1EQUF1QjtRQUM5Qiw4QkFBVTtHQUpqQyxrQkFBa0IsQ0E2RDlCO0FBN0RZLGdEQUFrQiIsImZpbGUiOiJjb21wb25lbnRzL3dpZGdldHMvcmFkaW8tYnV0dG9ucy9yYWRpby1idXR0b25zLndpZGdldC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBMb2dTZXJ2aWNlIH0gZnJvbSAnbmcyLWFsZnJlc2NvLWNvcmUnO1xuaW1wb3J0IHsgV2lkZ2V0Q29tcG9uZW50IH0gZnJvbSAnLi8uLi93aWRnZXQuY29tcG9uZW50JztcbmltcG9ydCB7IEZvcm1TZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vc2VydmljZXMvZm9ybS5zZXJ2aWNlJztcbmltcG9ydCB7IEZvcm1GaWVsZE9wdGlvbiB9IGZyb20gJy4vLi4vY29yZS9mb3JtLWZpZWxkLW9wdGlvbic7XG5pbXBvcnQgeyBXaWRnZXRWaXNpYmlsaXR5U2VydmljZSB9IGZyb20gJy4uLy4uLy4uL3NlcnZpY2VzL3dpZGdldC12aXNpYmlsaXR5LnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBtb2R1bGVJZDogbW9kdWxlLmlkLFxuICAgIHNlbGVjdG9yOiAncmFkaW8tYnV0dG9ucy13aWRnZXQnLFxuICAgIHRlbXBsYXRlOiBcIjxkaXYgY2xhc3M9XFxcInJhZGlvLWJ1dHRvbnMtd2lkZ2V0XFxcIiAgICAgIFtjbGFzcy5yYWRpby1idXR0b25zLXdpZGdldF9faW52YWxpZF09XFxcIiFmaWVsZC5pc1ZhbGlkXFxcIiBbaWRdPVxcXCJmaWVsZC5pZFxcXCIgKm5nSWY9XFxcImZpZWxkPy5pc1Zpc2libGVcXFwiPiAgICAgPGxhYmVsIGNsYXNzPVxcXCJyYWRpby1idXR0b25zLXdpZGdldF9fbGFiZWxcXFwiIFthdHRyLmZvcl09XFxcImZpZWxkLmlkXFxcIj57e2ZpZWxkLm5hbWV9fTwvbGFiZWw+ICAgICA8ZGl2ICpuZ0Zvcj1cXFwibGV0IG9wdCBvZiBmaWVsZC5vcHRpb25zXFxcIj4gICAgICAgICA8bGFiZWwgW2lkXT1cXFwib3B0LmlkXFxcIiBbYXR0ci5mb3JdPVxcXCJmaWVsZC5pZCArICctJyArIG9wdC5pZFxcXCIgY2xhc3M9XFxcIm1kbC1yYWRpbyBtZGwtanMtcmFkaW9cXFwiPiAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwicmFkaW9cXFwiICAgICAgICAgICAgICAgICAgICBjbGFzcz1cXFwibWRsLXJhZGlvX19idXR0b25cXFwiICAgICAgICAgICAgICAgICAgICBbY2hlY2tlZF09XFxcImZpZWxkLnZhbHVlID09PSBvcHQuaWRcXFwiICAgICAgICAgICAgICAgICAgICBbYXR0ci5pZF09XFxcImZpZWxkLmlkICsgJy0nICsgb3B0LmlkXFxcIiAgICAgICAgICAgICAgICAgICAgW2F0dHIubmFtZV09XFxcImZpZWxkLmlkXFxcIiAgICAgICAgICAgICAgICAgICAgW2F0dHIudmFsdWVdPVxcXCJvcHQuaWRcXFwiICAgICAgICAgICAgICAgICAgICBbZGlzYWJsZWRdPVxcXCJmaWVsZC5yZWFkT25seVxcXCIgICAgICAgICAgICAgICAgICAgIChjbGljayk9XFxcIm9uT3B0aW9uQ2xpY2sob3B0LmlkKVxcXCI+ICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJtZGwtcmFkaW9fX2xhYmVsXFxcIj57e29wdC5uYW1lfX08L3NwYW4+ICAgICAgICAgPC9sYWJlbD4gICAgIDwvZGl2PiAgICAgPHNwYW4gKm5nSWY9XFxcImZpZWxkLnZhbGlkYXRpb25TdW1tYXJ5XFxcIiBjbGFzcz1cXFwibWRsLXRleHRmaWVsZF9fZXJyb3JcXFwiPnt7ZmllbGQudmFsaWRhdGlvblN1bW1hcnl9fTwvc3Bhbj4gPC9kaXY+XCIsXG4gICAgc3R5bGVzOiBbXCIucmFkaW8tYnV0dG9ucy13aWRnZXQge30gIC5yYWRpby1idXR0b25zLXdpZGdldF9faW52YWxpZCAubWRsLXJhZGlvX19sYWJlbCB7ICAgICBjb2xvcjogI2Q1MDAwMDsgfSAgLnJhZGlvLWJ1dHRvbnMtd2lkZ2V0X19pbnZhbGlkIC5yYWRpby1idXR0b25zLXdpZGdldF9fbGFiZWwgeyAgICAgY29sb3I6ICNkNTAwMDA7IH0gIC5yYWRpby1idXR0b25zLXdpZGdldF9faW52YWxpZCAucmFkaW8tYnV0dG9ucy13aWRnZXRfX2xhYmVsOmFmdGVyIHsgICAgIGJhY2tncm91bmQtY29sb3I6ICNkNTAwMDA7IH0gIC5yYWRpby1idXR0b25zLXdpZGdldF9faW52YWxpZCAubWRsLXRleHRmaWVsZF9fZXJyb3IgeyAgICAgdmlzaWJpbGl0eTogdmlzaWJsZSAhaW1wb3J0YW50OyB9XCJdXG59KVxuZXhwb3J0IGNsYXNzIFJhZGlvQnV0dG9uc1dpZGdldCBleHRlbmRzIFdpZGdldENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGZvcm1TZXJ2aWNlOiBGb3JtU2VydmljZSxcbiAgICAgICAgICAgICAgICBwcml2YXRlIHZpc2liaWxpdHlTZXJ2aWNlOiBXaWRnZXRWaXNpYmlsaXR5U2VydmljZSxcbiAgICAgICAgICAgICAgICBwcml2YXRlIGxvZ1NlcnZpY2U6IExvZ1NlcnZpY2UpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZmllbGQgJiYgdGhpcy5maWVsZC5yZXN0VXJsKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5maWVsZC5mb3JtLnRhc2tJZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0T3B0aW9uc0J5VGFza0lkKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0T3B0aW9uc0J5UHJvY2Vzc0RlZmluaXRpb25JZCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0T3B0aW9uc0J5VGFza0lkKCkge1xuICAgICAgICB0aGlzLmZvcm1TZXJ2aWNlXG4gICAgICAgICAgICAuZ2V0UmVzdEZpZWxkVmFsdWVzKFxuICAgICAgICAgICAgICAgIHRoaXMuZmllbGQuZm9ybS50YXNrSWQsXG4gICAgICAgICAgICAgICAgdGhpcy5maWVsZC5pZFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLnN1YnNjcmliZShcbiAgICAgICAgICAgICAgICAocmVzdWx0OiBGb3JtRmllbGRPcHRpb25bXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpZWxkLm9wdGlvbnMgPSByZXN1bHQgfHwgW107XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmllbGQudXBkYXRlRm9ybSgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICBnZXRPcHRpb25zQnlQcm9jZXNzRGVmaW5pdGlvbklkKCkge1xuICAgICAgICB0aGlzLmZvcm1TZXJ2aWNlXG4gICAgICAgICAgICAuZ2V0UmVzdEZpZWxkVmFsdWVzQnlQcm9jZXNzSWQoXG4gICAgICAgICAgICAgICAgdGhpcy5maWVsZC5mb3JtLnByb2Nlc3NEZWZpbml0aW9uSWQsXG4gICAgICAgICAgICAgICAgdGhpcy5maWVsZC5pZFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLnN1YnNjcmliZShcbiAgICAgICAgICAgICAgICAocmVzdWx0OiBGb3JtRmllbGRPcHRpb25bXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpZWxkLm9wdGlvbnMgPSByZXN1bHQgfHwgW107XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmllbGQudXBkYXRlRm9ybSgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICBvbk9wdGlvbkNsaWNrKG9wdGlvblNlbGVjdGVkOiBhbnkpIHtcbiAgICAgICAgdGhpcy5maWVsZC52YWx1ZSA9IG9wdGlvblNlbGVjdGVkO1xuICAgICAgICB0aGlzLmNoZWNrVmlzaWJpbGl0eSgpO1xuICAgIH1cblxuICAgIGNoZWNrVmlzaWJpbGl0eSgpIHtcbiAgICAgICAgdGhpcy52aXNpYmlsaXR5U2VydmljZS5yZWZyZXNoVmlzaWJpbGl0eSh0aGlzLmZpZWxkLmZvcm0pO1xuICAgIH1cblxuICAgIGhhbmRsZUVycm9yKGVycm9yOiBhbnkpIHtcbiAgICAgICAgdGhpcy5sb2dTZXJ2aWNlLmVycm9yKGVycm9yKTtcbiAgICB9XG5cbn1cbiJdfQ==
