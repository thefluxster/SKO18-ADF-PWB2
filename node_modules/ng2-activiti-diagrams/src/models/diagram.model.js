/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
"use strict";
var DiagramModel = (function () {
    function DiagramModel(obj) {
        var _this = this;
        this.elements = [];
        this.flows = [];
        this.pools = [];
        if (obj) {
            this.diagramBeginX = obj.diagramBeginX;
            this.diagramBeginY = obj.diagramBeginY;
            this.diagramHeight = obj.diagramHeight;
            this.diagramWidth = obj.diagramWidth;
            if (obj.elements) {
                obj.elements.forEach(function (element) {
                    _this.elements.push(new DiagramElementModel(element));
                });
            }
            if (obj.flows) {
                obj.flows.forEach(function (flow) {
                    _this.flows.push(new DiagramFlowElementModel(flow));
                });
            }
            if (obj.pools) {
                obj.pools.forEach(function (pool) {
                    _this.pools.push(new DiagramPoolElementModel(pool));
                });
            }
        }
    }
    return DiagramModel;
}());
exports.DiagramModel = DiagramModel;
var DiagramElementModel = (function () {
    function DiagramElementModel(obj) {
        var _this = this;
        this.properties = [];
        this.dataType = '';
        this.taskType = '';
        if (obj) {
            this.height = obj.height || '';
            this.id = obj.id || '';
            this.name = obj.name || '';
            this.type = obj.type || '';
            this.width = obj.width || '';
            this.value = obj.value || '';
            this.x = obj.x || '';
            this.y = obj.y || '';
            this.taskType = obj.taskType || '';
            if (obj.properties) {
                obj.properties.forEach(function (property) {
                    _this.properties.push(new DiagramElementPropertyModel(property));
                });
            }
            this.dataType = obj.dataType || '';
            if (obj.eventDefinition) {
                this.eventDefinition = new DiagramEventDefinitionModel(obj.eventDefinition);
            }
        }
    }
    return DiagramElementModel;
}());
exports.DiagramElementModel = DiagramElementModel;
var DiagramElementPropertyModel = (function () {
    function DiagramElementPropertyModel(obj) {
        if (obj) {
            this.name = obj.name;
            this.type = obj.type;
            this.value = obj.value;
        }
    }
    return DiagramElementPropertyModel;
}());
exports.DiagramElementPropertyModel = DiagramElementPropertyModel;
var DiagramFlowElementModel = (function () {
    function DiagramFlowElementModel(obj) {
        var _this = this;
        this.properties = [];
        this.waypoints = [];
        if (obj) {
            this.id = obj.id;
            this.properties = obj.properties;
            this.sourceRef = obj.sourceRef;
            this.targetRef = obj.targetRef;
            this.type = obj.type;
            if (obj.waypoints) {
                obj.waypoints.forEach(function (waypoint) {
                    _this.waypoints.push(new DiagramWayPointModel(waypoint));
                });
            }
        }
    }
    return DiagramFlowElementModel;
}());
exports.DiagramFlowElementModel = DiagramFlowElementModel;
var DiagramWayPointModel = (function () {
    function DiagramWayPointModel(obj) {
        if (obj) {
            this.x = obj.x;
            this.y = obj.y;
        }
    }
    return DiagramWayPointModel;
}());
exports.DiagramWayPointModel = DiagramWayPointModel;
var DiagramEventDefinitionModel = (function () {
    function DiagramEventDefinitionModel(obj) {
        if (obj) {
            this.timeCycle = obj.timeCycle;
            this.type = obj.type;
        }
    }
    return DiagramEventDefinitionModel;
}());
exports.DiagramEventDefinitionModel = DiagramEventDefinitionModel;
var DiagramPoolElementModel = (function () {
    function DiagramPoolElementModel(obj) {
        var _this = this;
        this.lanes = [];
        if (obj) {
            this.height = obj.height;
            this.id = obj.id;
            this.name = obj.name;
            this.properties = obj.properties;
            this.width = obj.width;
            this.x = obj.x;
            this.y = obj.y;
            if (obj.lanes) {
                obj.lanes.forEach(function (lane) {
                    _this.lanes.push(new DiagramLaneElementModel(lane));
                });
            }
        }
    }
    return DiagramPoolElementModel;
}());
exports.DiagramPoolElementModel = DiagramPoolElementModel;
var DiagramLaneElementModel = (function () {
    function DiagramLaneElementModel(obj) {
        if (obj) {
            this.height = obj.height;
            this.id = obj.id;
            this.name = obj.name;
            this.width = obj.width;
            this.x = obj.x;
            this.y = obj.y;
        }
    }
    return DiagramLaneElementModel;
}());
exports.DiagramLaneElementModel = DiagramLaneElementModel;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGVscy9kaWFncmFtLm1vZGVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7Ozs7R0FlRzs7QUFFSDtJQVNJLHNCQUFZLEdBQVM7UUFBckIsaUJBc0JDO1FBMUJELGFBQVEsR0FBMEIsRUFBRSxDQUFDO1FBQ3JDLFVBQUssR0FBOEIsRUFBRSxDQUFDO1FBQ3RDLFVBQUssR0FBOEIsRUFBRSxDQUFDO1FBR2xDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDTixJQUFJLENBQUMsYUFBYSxHQUFHLEdBQUcsQ0FBQyxhQUFhLENBQUM7WUFDdkMsSUFBSSxDQUFDLGFBQWEsR0FBRyxHQUFHLENBQUMsYUFBYSxDQUFDO1lBQ3ZDLElBQUksQ0FBQyxhQUFhLEdBQUcsR0FBRyxDQUFDLGFBQWEsQ0FBQztZQUN2QyxJQUFJLENBQUMsWUFBWSxHQUFHLEdBQUcsQ0FBQyxZQUFZLENBQUM7WUFDckMsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7Z0JBQ2YsR0FBRyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsVUFBQyxPQUE0QjtvQkFDOUMsS0FBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxtQkFBbUIsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO2dCQUN6RCxDQUFDLENBQUMsQ0FBQztZQUNQLENBQUM7WUFDRCxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztnQkFDWixHQUFHLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxVQUFDLElBQTZCO29CQUM1QyxLQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxJQUFJLHVCQUF1QixDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7Z0JBQ3ZELENBQUMsQ0FBQyxDQUFDO1lBQ1AsQ0FBQztZQUNELEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO2dCQUNa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QixJQUFJLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDZixJQUFJLENBQUMsQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUM7UUFDbkIsQ0FBQztJQUNMLENBQUM7SUFDTCw4QkFBQztBQUFELENBbEJBLEFBa0JDLElBQUE7QUFsQlksMERBQXVCIiwiZmlsZSI6Im1vZGVscy9kaWFncmFtLm1vZGVsLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuZXhwb3J0IGNsYXNzIERpYWdyYW1Nb2RlbCB7XG4gICAgZGlhZ3JhbUJlZ2luWDogbnVtYmVyO1xuICAgIGRpYWdyYW1CZWdpblk6IG51bWJlcjtcbiAgICBkaWFncmFtSGVpZ2h0OiBudW1iZXI7XG4gICAgZGlhZ3JhbVdpZHRoOiBudW1iZXI7XG4gICAgZWxlbWVudHM6IERpYWdyYW1FbGVtZW50TW9kZWxbXSA9IFtdO1xuICAgIGZsb3dzOiBEaWFncmFtRmxvd0VsZW1lbnRNb2RlbFtdID0gW107XG4gICAgcG9vbHM6IERpYWdyYW1Qb29sRWxlbWVudE1vZGVsW10gPSBbXTtcblxuICAgIGNvbnN0cnVjdG9yKG9iaj86IGFueSkge1xuICAgICAgICBpZiAob2JqKSB7XG4gICAgICAgICAgICB0aGlzLmRpYWdyYW1CZWdpblggPSBvYmouZGlhZ3JhbUJlZ2luWDtcbiAgICAgICAgICAgIHRoaXMuZGlhZ3JhbUJlZ2luWSA9IG9iai5kaWFncmFtQmVnaW5ZO1xuICAgICAgICAgICAgdGhpcy5kaWFncmFtSGVpZ2h0ID0gb2JqLmRpYWdyYW1IZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLmRpYWdyYW1XaWR0aCA9IG9iai5kaWFncmFtV2lkdGg7XG4gICAgICAgICAgICBpZiAob2JqLmVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgb2JqLmVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQ6IERpYWdyYW1FbGVtZW50TW9kZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50cy5wdXNoKG5ldyBEaWFncmFtRWxlbWVudE1vZGVsKGVsZW1lbnQpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvYmouZmxvd3MpIHtcbiAgICAgICAgICAgICAgICBvYmouZmxvd3MuZm9yRWFjaCgoZmxvdzogRGlhZ3JhbUZsb3dFbGVtZW50TW9kZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mbG93cy5wdXNoKG5ldyBEaWFncmFtRmxvd0VsZW1lbnRNb2RlbChmbG93KSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob2JqLnBvb2xzKSB7XG4gICAgICAgICAgICAgICAgb2JqLnBvb2xzLmZvckVhY2goKHBvb2w6IERpYWdyYW1Qb29sRWxlbWVudE1vZGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9vbHMucHVzaChuZXcgRGlhZ3JhbVBvb2xFbGVtZW50TW9kZWwocG9vbCkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGlhZ3JhbUVsZW1lbnRNb2RlbCB7XG4gICAgaGVpZ2h0OiBzdHJpbmc7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIHdpZHRoOiBzdHJpbmc7XG4gICAgdmFsdWU6IHN0cmluZztcbiAgICB4OiBzdHJpbmc7XG4gICAgeTogc3RyaW5nO1xuICAgIHByb3BlcnRpZXM6IERpYWdyYW1FbGVtZW50UHJvcGVydHlNb2RlbFtdID0gW107XG4gICAgZGF0YVR5cGU6IHN0cmluZyA9ICcnO1xuICAgIGV2ZW50RGVmaW5pdGlvbjogRGlhZ3JhbUV2ZW50RGVmaW5pdGlvbk1vZGVsO1xuICAgIHRhc2tUeXBlOiBzdHJpbmcgPSAnJztcblxuICAgIGNvbnN0cnVjdG9yKG9iaj86IGFueSkge1xuICAgICAgICBpZiAob2JqKSB7XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IG9iai5oZWlnaHQgfHwgJyc7XG4gICAgICAgICAgICB0aGlzLmlkID0gb2JqLmlkIHx8ICcnO1xuICAgICAgICAgICAgdGhpcy5uYW1lID0gb2JqLm5hbWUgfHwgJyc7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBvYmoudHlwZSB8fCAnJztcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSBvYmoud2lkdGggfHwgJyc7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gb2JqLnZhbHVlIHx8ICcnO1xuICAgICAgICAgICAgdGhpcy54ID0gb2JqLnggfHwgJyc7XG4gICAgICAgICAgICB0aGlzLnkgPSBvYmoueSB8fCAnJztcbiAgICAgICAgICAgIHRoaXMudGFza1R5cGUgPSBvYmoudGFza1R5cGUgfHwgJyc7XG4gICAgICAgICAgICBpZiAob2JqLnByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICBvYmoucHJvcGVydGllcy5mb3JFYWNoKChwcm9wZXJ0eTogRGlhZ3JhbUVsZW1lbnRQcm9wZXJ0eU1vZGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcGVydGllcy5wdXNoKG5ldyBEaWFncmFtRWxlbWVudFByb3BlcnR5TW9kZWwocHJvcGVydHkpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZGF0YVR5cGUgPSBvYmouZGF0YVR5cGUgfHwgJyc7XG4gICAgICAgICAgICBpZiAob2JqLmV2ZW50RGVmaW5pdGlvbikge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnREZWZpbml0aW9uID0gbmV3IERpYWdyYW1FdmVudERlZmluaXRpb25Nb2RlbChvYmouZXZlbnREZWZpbml0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIERpYWdyYW1FbGVtZW50UHJvcGVydHlNb2RlbCB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHR5cGU6IHN0cmluZztcbiAgICB2YWx1ZTogYW55O1xuXG4gICAgY29uc3RydWN0b3Iob2JqPzogYW55KSB7XG4gICAgICAgIGlmIChvYmopIHtcbiAgICAgICAgICAgIHRoaXMubmFtZSA9IG9iai5uYW1lO1xuICAgICAgICAgICAgdGhpcy50eXBlID0gb2JqLnR5cGU7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gb2JqLnZhbHVlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGlhZ3JhbUZsb3dFbGVtZW50TW9kZWwge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgcHJvcGVydGllczogYW55W10gPSBbXTtcbiAgICBzb3VyY2VSZWY6IHN0cmluZztcbiAgICB0YXJnZXRSZWY6IHN0cmluZztcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgd2F5cG9pbnRzOiBEaWFncmFtV2F5UG9pbnRNb2RlbFtdID0gW107XG5cbiAgICBjb25zdHJ1Y3RvcihvYmo/OiBhbnkpIHtcbiAgICAgICAgaWYgKG9iaikge1xuICAgICAgICAgICAgdGhpcy5pZCA9IG9iai5pZDtcbiAgICAgICAgICAgIHRoaXMucHJvcGVydGllcyA9IG9iai5wcm9wZXJ0aWVzO1xuICAgICAgICAgICAgdGhpcy5zb3VyY2VSZWYgPSBvYmouc291cmNlUmVmO1xuICAgICAgICAgICAgdGhpcy50YXJnZXRSZWYgPSBvYmoudGFyZ2V0UmVmO1xuICAgICAgICAgICAgdGhpcy50eXBlID0gb2JqLnR5cGU7XG4gICAgICAgICAgICBpZiAob2JqLndheXBvaW50cykge1xuICAgICAgICAgICAgICAgIG9iai53YXlwb2ludHMuZm9yRWFjaCgod2F5cG9pbnQ6IERpYWdyYW1XYXlQb2ludE1vZGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2F5cG9pbnRzLnB1c2gobmV3IERpYWdyYW1XYXlQb2ludE1vZGVsKHdheXBvaW50KSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEaWFncmFtV2F5UG9pbnRNb2RlbCB7XG4gICAgeDogbnVtYmVyO1xuICAgIHk6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKG9iaj86IGFueSkge1xuICAgICAgICBpZiAob2JqKSB7XG4gICAgICAgICAgICB0aGlzLnggPSBvYmoueDtcbiAgICAgICAgICAgIHRoaXMueSA9IG9iai55O1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGlhZ3JhbUV2ZW50RGVmaW5pdGlvbk1vZGVsIHtcbiAgICB0aW1lQ3ljbGU6IHN0cmluZztcbiAgICB0eXBlOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihvYmo/OiBhbnkpIHtcbiAgICAgICAgaWYgKG9iaikge1xuICAgICAgICAgICAgdGhpcy50aW1lQ3ljbGUgPSBvYmoudGltZUN5Y2xlO1xuICAgICAgICAgICAgdGhpcy50eXBlID0gb2JqLnR5cGU7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEaWFncmFtUG9vbEVsZW1lbnRNb2RlbCB7XG4gICAgaGVpZ2h0OiBzdHJpbmc7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgcHJvcGVydGllczogYW55O1xuICAgIGxhbmVzOiBEaWFncmFtTGFuZUVsZW1lbnRNb2RlbFtdID0gW107XG4gICAgd2lkdGg6IHN0cmluZztcbiAgICB4OiBudW1iZXI7XG4gICAgeTogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3Iob2JqPzogYW55KSB7XG4gICAgICAgIGlmIChvYmopIHtcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gb2JqLmhlaWdodDtcbiAgICAgICAgICAgIHRoaXMuaWQgPSBvYmouaWQ7XG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBvYmoubmFtZTtcbiAgICAgICAgICAgIHRoaXMucHJvcGVydGllcyA9IG9iai5wcm9wZXJ0aWVzO1xuICAgICAgICAgICAgdGhpcy53aWR0aCA9IG9iai53aWR0aDtcbiAgICAgICAgICAgIHRoaXMueCA9IG9iai54O1xuICAgICAgICAgICAgdGhpcy55ID0gb2JqLnk7XG4gICAgICAgICAgICBpZiAob2JqLmxhbmVzKSB7XG4gICAgICAgICAgICAgICAgb2JqLmxhbmVzLmZvckVhY2goKGxhbmU6IERpYWdyYW1MYW5lRWxlbWVudE1vZGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFuZXMucHVzaChuZXcgRGlhZ3JhbUxhbmVFbGVtZW50TW9kZWwobGFuZSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgRGlhZ3JhbUxhbmVFbGVtZW50TW9kZWwge1xuICAgIGhlaWdodDogbnVtYmVyO1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHdpZHRoOiBudW1iZXI7XG4gICAgeDogbnVtYmVyO1xuICAgIHk6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKG9iaj86IGFueSkge1xuICAgICAgICBpZiAob2JqKSB7XG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IG9iai5oZWlnaHQ7XG4gICAgICAgICAgICB0aGlzLmlkID0gb2JqLmlkO1xuICAgICAgICAgICAgdGhpcy5uYW1lID0gb2JqLm5hbWU7XG4gICAgICAgICAgICB0aGlzLndpZHRoID0gb2JqLndpZHRoO1xuICAgICAgICAgICAgdGhpcy54ID0gb2JqLng7XG4gICAgICAgICAgICB0aGlzLnkgPSBvYmoueTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdfQ==
