/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
"use strict";
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var core_1 = require("@angular/core");
var ng2_alfresco_core_1 = require("ng2-alfresco-core");
var activiti_tasklist_service_1 = require("./../services/activiti-tasklist.service");
var icon_model_1 = require("../models/icon.model");
var Observable_1 = require("rxjs/Observable");
var ActivitiApps = ActivitiApps_1 = (function () {
    function ActivitiApps(translateService, activitiTaskList) {
        var _this = this;
        this.translateService = translateService;
        this.activitiTaskList = activitiTaskList;
        this.layoutType = ActivitiApps_1.LAYOUT_GRID;
        this.appClick = new core_1.EventEmitter();
        this.error = new core_1.EventEmitter();
        this.appList = [];
        if (translateService) {
            translateService.addTranslationFolder('ng2-activiti-tasklist', 'node_modules/ng2-activiti-tasklist/src');
        }
        this.apps$ = new Observable_1.Observable(function (observer) { return _this.appsObserver = observer; }).share();
    }
    ActivitiApps.prototype.ngOnInit = function () {
        var _this = this;
        if (!this.isValidType()) {
            this.setDefaultLayoutType();
        }
        this.apps$.subscribe(function (app) {
            _this.appList.push(app);
        });
        this.iconsMDL = new icon_model_1.IconModel();
        this.load();
    };
    ActivitiApps.prototype.load = function () {
        var _this = this;
        this.activitiTaskList.getDeployedApplications().subscribe(function (res) {
            res.forEach(function (app) {
                if (app.defaultAppId === ActivitiApps_1.DEFAULT_TASKS_APP) {
                    app.name = ActivitiApps_1.DEFAULT_TASKS_APP_NAME;
                    app.theme = ActivitiApps_1.DEFAULT_TASKS_APP_THEME;
                    app.icon = ActivitiApps_1.DEFAULT_TASKS_APP_ICON;
                    _this.appsObserver.next(app);
                }
                else if (app.deploymentId) {
                    _this.appsObserver.next(app);
                }
            });
        }, function (err) {
            _this.error.emit(err);
        });
    };
    ActivitiApps.prototype.selectApp = function (app) {
        this.currentApp = app;
        this.appClick.emit(app);
    };
    ActivitiApps.prototype.isSelected = function (appId) {
        return (this.currentApp !== undefined && appId === this.currentApp.id);
    };
    ActivitiApps.prototype.isValidType = function () {
        if (this.layoutType && (this.layoutType === ActivitiApps_1.LAYOUT_LIST || this.layoutType === ActivitiApps_1.LAYOUT_GRID)) {
            return true;
        }
        return false;
    };
    ActivitiApps.prototype.setDefaultLayoutType = function () {
        this.layoutType = ActivitiApps_1.LAYOUT_GRID;
    };
    ActivitiApps.prototype.isList = function () {
        return this.layoutType === ActivitiApps_1.LAYOUT_LIST;
    };
    ActivitiApps.prototype.isGrid = function () {
        return this.layoutType === ActivitiApps_1.LAYOUT_GRID;
    };
    ActivitiApps.prototype.isEmpty = function () {
        return this.appList.length === 0;
    };
    ActivitiApps.prototype.getTheme = function (app) {
        return app.theme ? app.theme : '';
    };
    ActivitiApps.prototype.getBackgroundIcon = function (app) {
        return this.iconsMDL.mapGlyphiconToMaterialDesignIcons(app.icon);
    };
    return ActivitiApps;
}());
ActivitiApps.LAYOUT_LIST = 'LIST';
ActivitiApps.LAYOUT_GRID = 'GRID';
ActivitiApps.DEFAULT_TASKS_APP = 'tasks';
ActivitiApps.DEFAULT_TASKS_APP_NAME = 'Task App';
ActivitiApps.DEFAULT_TASKS_APP_THEME = 'theme-2';
ActivitiApps.DEFAULT_TASKS_APP_ICON = 'glyphicon-asterisk';
ActivitiApps.DEFAULT_TASKS_APP_MATERIAL_ICON = 'favorite_border';
__decorate([
    core_1.Input(),
    __metadata("design:type", String)
], ActivitiApps.prototype, "layoutType", void 0);
__decorate([
    core_1.Output(),
    __metadata("design:type", core_1.EventEmitter)
], ActivitiApps.prototype, "appClick", void 0);
__decorate([
    core_1.Output(),
    __metadata("design:type", core_1.EventEmitter)
], ActivitiApps.prototype, "error", void 0);
ActivitiApps = ActivitiApps_1 = __decorate([
    core_1.Component({
        selector: 'activiti-apps',
        moduleId: module.id,
        template: "<div class=\"menu-container\" *ngIf=\"!isEmpty()\">     <ul class='mdl-list' *ngIf=\"isList()\">         <li class=\"mdl-list__item\" (click)=\"selectApp(app)\" *ngFor=\"let app of appList\">             <span class=\"mdl-list__item-primary-content\">             <i class=\"material-icons mdl-list__item-icon\">touch_app</i>             {{app.name}}             </span>         </li>     </ul>     <div class=\"mdl-grid\" *ngIf=\"isGrid()\">         <div (click)=\"selectApp(app)\" [ngClass]=\"['mdl-card mdl-cell',  getTheme(app)]\" *ngFor=\"let app of appList\">             <div class=\"logo\"><i class=\"material-icons\">{{getBackgroundIcon(app)}}</i></div>             <div class=\"mdl-card__title\">                 <h1 class=\"mdl-card__title-text application-title\">{{app.name}}</h1>             </div>             <div class=\"mdl-card__supporting-text\">                 <p>{{app.description}}</p>             </div>             <div class=\"mdl-card__actions mdl-card--border\">                 <i class=\"material-icons selectedIcon\" *ngIf=\"isSelected(app.id)\">done</i>             </div>         </div>     </div> </div>",
        styles: [":host {     width: 100%; }  .application-title {     color: white; }  .logo {     position: absolute;     right: 20px;     top: 20px; } .logo i{     font-size: 70px; } .theme-1 {     background-color: #269abc; } .theme-1 .logo i {     color: #168aac; } .theme-1 .mdl-card__actions i {     color: #168aac; } .theme-1 .mdl-card__actions i:hover {     color: #b7dfea; } .theme-2 {     background-color: #7da9b0; } .theme-2 .logo i {     color: #6d99a0; } .theme-2 .mdl-card__actions i {     color: #6d99a0; } .theme-2 .mdl-card__actions i:hover {  color: #def2f5; } .theme-3 {     background-color: #7689ab; } .theme-3 .logo i {     color: #66799b; } .theme-3 .mdl-card__actions i {     color: #66799b; } .theme-3 .mdl-card__actions i:hover {     color: #a2b4d6; } .theme-4 {     background-color: #c74e3e; } .theme-4 .logo i {     color: #b73e2e; } .theme-4 .mdl-card__actions i {     color: #b73e2e; } .theme-4 .mdl-card__actions i:hover {     color: #de8b80; } .theme-5 {     background-color: #fab96c; } .theme-5 .logo i {     color: #eaa95c; } .theme-5 .mdl-card__actions i {     color: #eaa95c; } .theme-5 .mdl-card__actions i:hover {     color: #fdd9ae; } .theme-6 {     background-color: #759d4c; } .theme-6 .logo i {     color: #658d3c; } .theme-6 .mdl-card__actions i {     color: #658d3c; } .theme-6 .mdl-card__actions i:hover {     color: #a8d07f; } .theme-7 {     background-color: #b1b489; } .theme-7 .logo i {     color: #a1a479; } .theme-7 .mdl-card__actions i {     color: #a1a479; } .theme-7 .mdl-card__actions i:hover {     color: #d9dcb2; } .theme-8 {     background-color: #a17299; } .theme-8 .logo i {     color: #916289; } .theme-8 .mdl-card__actions i {     color: #916289; } .theme-8 .mdl-card__actions i:hover {     color: #d0a8c9; } .theme-9 {     background-color: #696c67; } .theme-9 .logo i {     color: #595c57; } .theme-9 .mdl-card__actions i {     color: #595c57; } .theme-9 .mdl-card__actions i:hover {     color: #a6a9a4; } .theme-10 {     background-color: #cabb33; } .theme-10 .logo i {     color: #baab23; } .theme-10 .mdl-card__actions i {     color: #baab23; } .theme-10 .mdl-card__actions i:hover {     color: #efe79e; } .selectedIcon{     color: #e9f1f3!important; } .mdl-card__media {     margin: 0; }  .mdl-card__media > img {     max-width: 100%; }  .mdl-card__actions {     display: flex;     box-sizing:border-box;     align-items: center; } .mdl-card__actions > .mdl-button--icon {     margin-right: 3px;     margin-left: 3px; }  .mdl-card:hover {     box-shadow: 0 8px 10px 1px rgba(0, 0, 0, .14), 0 3px 14px 2px rgba(0, 0, 0, .12), 0 5px 5px -3px rgba(0, 0, 0, .2);     cursor: pointer; }"],
        providers: [activiti_tasklist_service_1.ActivitiTaskListService]
    }),
    __metadata("design:paramtypes", [ng2_alfresco_core_1.AlfrescoTranslationService,
        activiti_tasklist_service_1.ActivitiTaskListService])
], ActivitiApps);
exports.ActivitiApps = ActivitiApps;
var ActivitiApps_1;

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvYWN0aXZpdGktYXBwcy5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7Ozs7Ozs7OztHQWVHOzs7Ozs7Ozs7OztBQUVILHNDQUErRTtBQUMvRSx1REFBK0Q7QUFDL0QscUZBQWtGO0FBRWxGLG1EQUFpRDtBQUVqRCw4Q0FBNkM7QUFXN0MsSUFBYSxZQUFZO0lBaUNyQixzQkFBb0IsZ0JBQTRDLEVBQzVDLGdCQUF5QztRQUQ3RCxpQkFRQztRQVJtQixxQkFBZ0IsR0FBaEIsZ0JBQWdCLENBQTRCO1FBQzVDLHFCQUFnQixHQUFoQixnQkFBZ0IsQ0FBeUI7UUF2QjdELGVBQVUsR0FBVyxjQUFZLENBQUMsV0FBVyxDQUFDO1FBRzlDLGFBQVEsR0FBbUQsSUFBSSxtQkFBWSxFQUFvQyxDQUFDO1FBR2hILFVBQUssR0FBc0IsSUFBSSxtQkFBWSxFQUFPLENBQUM7UUFPbkQsWUFBTyxHQUF3QyxFQUFFLENBQUM7UUFZOUMsRUFBRSxDQUFDLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDO1lBQ25CLGdCQUFnQixDQUFDLG9CQUFvQixDQUFDLHVCQUF1QixFQUFFLHdDQUF3QyxDQUFDLENBQUM7UUFDN0csQ0FBQztRQUVELElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSx1QkFBVSxDQUFtQyxVQUFBLFFBQVEsSUFBSyxPQUFBLEtBQUksQ0FBQyxZQUFZLEdBQUcsUUFBUSxFQUE1QixDQUE0QixDQUFDLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDckgsQ0FBQztJQUVELCtCQUFRLEdBQVI7UUFBQSxpQkFVQztRQVRHLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsQ0FBQztZQUN0QixJQUFJLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztRQUNoQyxDQUFDO1FBRUQsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsVUFBQyxHQUFRO1lBQzFCLEtBQUksQ0FBQyxPQUFPLENB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QUFDLElBQUksQ0FBQyxDQUFDO0lBQ3JFLENBQUM7SUFFTCxtQkFBQztBQUFELENBM0lBLEFBMklDLElBQUE7QUF6SWlCLHdCQUFXLEdBQVcsTUFBTSxDQUFDO0FBQzdCLHdCQUFXLEdBQVcsTUFBTSxDQUFDO0FBQzdCLDhCQUFpQixHQUFXLE9BQU8sQ0FBQztBQUNwQyxtQ0FBc0IsR0FBVyxVQUFVLENBQUM7QUFDNUMsb0NBQXVCLEdBQVcsU0FBUyxDQUFDO0FBQzVDLG1DQUFzQixHQUFXLG9CQUFvQixDQUFDO0FBQ3RELDRDQUErQixHQUFXLGlCQUFpQixDQUFDO0FBRzFFO0lBREMsWUFBSyxFQUFFOztnREFDc0M7QUFHOUM7SUFEQyxhQUFNLEVBQUU7OEJBQ0MsbUJBQVk7OENBQTBGO0FBR2hIO0lBREMsYUFBTSxFQUFFOzhCQUNGLG1CQUFZOzJDQUFnQztBQWpCMUMsWUFBWTtJQVB4QixnQkFBUyxDQUFDO1FBQ1AsUUFBUSxFQUFFLGVBQWU7UUFDekIsUUFBUSxFQUFFLE1BQU0sQ0FBQyxFQUFFO1FBQ25CLFFBQVEsRUFBRSxvbkNBQW9uQztRQUM5bkMsTUFBTSxFQUFFLENBQUMsNmtGQUE2a0YsQ0FBQztRQUN2bEYsU0FBUyxFQUFFLENBQUMsbURBQXVCLENBQUM7S0FDdkMsQ0FBQztxQ0FrQ3dDLDhDQUEwQjtRQUMxQixtREFBdUI7R0FsQ3BELFlBQVksQ0EySXhCO0FBM0lZLG9DQUFZIiwiZmlsZSI6ImNvbXBvbmVudHMvYWN0aXZpdGktYXBwcy5jb21wb25lbnQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgT3V0cHV0LCBFdmVudEVtaXR0ZXIsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBBbGZyZXNjb1RyYW5zbGF0aW9uU2VydmljZSB9IGZyb20gJ25nMi1hbGZyZXNjby1jb3JlJztcbmltcG9ydCB7IEFjdGl2aXRpVGFza0xpc3RTZXJ2aWNlIH0gZnJvbSAnLi8uLi9zZXJ2aWNlcy9hY3Rpdml0aS10YXNrbGlzdC5zZXJ2aWNlJztcbmltcG9ydCB7IEFwcERlZmluaXRpb25SZXByZXNlbnRhdGlvbk1vZGVsIH0gZnJvbSAnLi4vbW9kZWxzL2ZpbHRlci5tb2RlbCc7XG5pbXBvcnQgeyBJY29uTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMvaWNvbi5tb2RlbCc7XG5pbXBvcnQgeyBPYnNlcnZlciB9IGZyb20gJ3J4anMvT2JzZXJ2ZXInO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMvT2JzZXJ2YWJsZSc7XG5cbmRlY2xhcmUgbGV0IGNvbXBvbmVudEhhbmRsZXI6IGFueTtcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhY3Rpdml0aS1hcHBzJyxcbiAgICBtb2R1bGVJZDogbW9kdWxlLmlkLFxuICAgIHRlbXBsYXRlOiBcIjxkaXYgY2xhc3M9XFxcIm1lbnUtY29udGFpbmVyXFxcIiAqbmdJZj1cXFwiIWlzRW1wdHkoKVxcXCI+ICAgICA8dWwgY2xhc3M9J21kbC1saXN0JyAqbmdJZj1cXFwiaXNMaXN0KClcXFwiPiAgICAgICAgIDxsaSBjbGFzcz1cXFwibWRsLWxpc3RfX2l0ZW1cXFwiIChjbGljayk9XFxcInNlbGVjdEFwcChhcHApXFxcIiAqbmdGb3I9XFxcImxldCBhcHAgb2YgYXBwTGlzdFxcXCI+ICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJtZGwtbGlzdF9faXRlbS1wcmltYXJ5LWNvbnRlbnRcXFwiPiAgICAgICAgICAgICA8aSBjbGFzcz1cXFwibWF0ZXJpYWwtaWNvbnMgbWRsLWxpc3RfX2l0ZW0taWNvblxcXCI+dG91Y2hfYXBwPC9pPiAgICAgICAgICAgICB7e2FwcC5uYW1lfX0gICAgICAgICAgICAgPC9zcGFuPiAgICAgICAgIDwvbGk+ICAgICA8L3VsPiAgICAgPGRpdiBjbGFzcz1cXFwibWRsLWdyaWRcXFwiICpuZ0lmPVxcXCJpc0dyaWQoKVxcXCI+ICAgICAgICAgPGRpdiAoY2xpY2spPVxcXCJzZWxlY3RBcHAoYXBwKVxcXCIgW25nQ2xhc3NdPVxcXCJbJ21kbC1jYXJkIG1kbC1jZWxsJywgIGdldFRoZW1lKGFwcCldXFxcIiAqbmdGb3I9XFxcImxldCBhcHAgb2YgYXBwTGlzdFxcXCI+ICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcImxvZ29cXFwiPjxpIGNsYXNzPVxcXCJtYXRlcmlhbC1pY29uc1xcXCI+e3tnZXRCYWNrZ3JvdW5kSWNvbihhcHApfX08L2k+PC9kaXY+ICAgICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIm1kbC1jYXJkX190aXRsZVxcXCI+ICAgICAgICAgICAgICAgICA8aDEgY2xhc3M9XFxcIm1kbC1jYXJkX190aXRsZS10ZXh0IGFwcGxpY2F0aW9uLXRpdGxlXFxcIj57e2FwcC5uYW1lfX08L2gxPiAgICAgICAgICAgICA8L2Rpdj4gICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwibWRsLWNhcmRfX3N1cHBvcnRpbmctdGV4dFxcXCI+ICAgICAgICAgICAgICAgICA8cD57e2FwcC5kZXNjcmlwdGlvbn19PC9wPiAgICAgICAgICAgICA8L2Rpdj4gICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwibWRsLWNhcmRfX2FjdGlvbnMgbWRsLWNhcmQtLWJvcmRlclxcXCI+ICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwibWF0ZXJpYWwtaWNvbnMgc2VsZWN0ZWRJY29uXFxcIiAqbmdJZj1cXFwiaXNTZWxlY3RlZChhcHAuaWQpXFxcIj5kb25lPC9pPiAgICAgICAgICAgICA8L2Rpdj4gICAgICAgICA8L2Rpdj4gICAgIDwvZGl2PiA8L2Rpdj5cIixcbiAgICBzdHlsZXM6IFtcIjpob3N0IHsgICAgIHdpZHRoOiAxMDAlOyB9ICAuYXBwbGljYXRpb24tdGl0bGUgeyAgICAgY29sb3I6IHdoaXRlOyB9ICAubG9nbyB7ICAgICBwb3NpdGlvbjogYWJzb2x1dGU7ICAgICByaWdodDogMjBweDsgICAgIHRvcDogMjBweDsgfSAubG9nbyBpeyAgICAgZm9udC1zaXplOiA3MHB4OyB9IC50aGVtZS0xIHsgICAgIGJhY2tncm91bmQtY29sb3I6ICMyNjlhYmM7IH0gLnRoZW1lLTEgLmxvZ28gaSB7ICAgICBjb2xvcjogIzE2OGFhYzsgfSAudGhlbWUtMSAubWRsLWNhcmRfX2FjdGlvbnMgaSB7ICAgICBjb2xvcjogIzE2OGFhYzsgfSAudGhlbWUtMSAubWRsLWNhcmRfX2FjdGlvbnMgaTpob3ZlciB7ICAgICBjb2xvcjogI2I3ZGZlYTsgfSAudGhlbWUtMiB7ICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjN2RhOWIwOyB9IC50aGVtZS0yIC5sb2dvIGkgeyAgICAgY29sb3I6ICM2ZDk5YTA7IH0gLnRoZW1lLTIgLm1kbC1jYXJkX19hY3Rpb25zIGkgeyAgICAgY29sb3I6ICM2ZDk5YTA7IH0gLnRoZW1lLTIgLm1kbC1jYXJkX19hY3Rpb25zIGk6aG92ZXIgeyAgY29sb3I6ICNkZWYyZjU7IH0gLnRoZW1lLTMgeyAgICAgYmFja2dyb3VuZC1jb2xvcjogIzc2ODlhYjsgfSAudGhlbWUtMyAubG9nbyBpIHsgICAgIGNvbG9yOiAjNjY3OTliOyB9IC50aGVtZS0zIC5tZGwtY2FyZF9fYWN0aW9ucyBpIHsgICAgIGNvbG9yOiAjNjY3OTliOyB9IC50aGVtZS0zIC5tZGwtY2FyZF9fYWN0aW9ucyBpOmhvdmVyIHsgICAgIGNvbG9yOiAjYTJiNGQ2OyB9IC50aGVtZS00IHsgICAgIGJhY2tncm91bmQtY29sb3I6ICNjNzRlM2U7IH0gLnRoZW1lLTQgLmxvZ28gaSB7ICAgICBjb2xvcjogI2I3M2UyZTsgfSAudGhlbWUtNCAubWRsLWNhcmRfX2FjdGlvbnMgaSB7ICAgICBjb2xvcjogI2I3M2UyZTsgfSAudGhlbWUtNCAubWRsLWNhcmRfX2FjdGlvbnMgaTpob3ZlciB7ICAgICBjb2xvcjogI2RlOGI4MDsgfSAudGhlbWUtNSB7ICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmFiOTZjOyB9IC50aGVtZS01IC5sb2dvIGkgeyAgICAgY29sb3I6ICNlYWE5NWM7IH0gLnRoZW1lLTUgLm1kbC1jYXJkX19hY3Rpb25zIGkgeyAgICAgY29sb3I6ICNlYWE5NWM7IH0gLnRoZW1lLTUgLm1kbC1jYXJkX19hY3Rpb25zIGk6aG92ZXIgeyAgICAgY29sb3I6ICNmZGQ5YWU7IH0gLnRoZW1lLTYgeyAgICAgYmFja2dyb3VuZC1jb2xvcjogIzc1OWQ0YzsgfSAudGhlbWUtNiAubG9nbyBpIHsgICAgIGNvbG9yOiAjNjU4ZDNjOyB9IC50aGVtZS02IC5tZGwtY2FyZF9fYWN0aW9ucyBpIHsgICAgIGNvbG9yOiAjNjU4ZDNjOyB9IC50aGVtZS02IC5tZGwtY2FyZF9fYWN0aW9ucyBpOmhvdmVyIHsgICAgIGNvbG9yOiAjYThkMDdmOyB9IC50aGVtZS03IHsgICAgIGJhY2tncm91bmQtY29sb3I6ICNiMWI0ODk7IH0gLnRoZW1lLTcgLmxvZ28gaSB7ICAgICBjb2xvcjogI2ExYTQ3OTsgfSAudGhlbWUtNyAubWRsLWNhcmRfX2FjdGlvbnMgaSB7ICAgICBjb2xvcjogI2ExYTQ3OTsgfSAudGhlbWUtNyAubWRsLWNhcmRfX2FjdGlvbnMgaTpob3ZlciB7ICAgICBjb2xvcjogI2Q5ZGNiMjsgfSAudGhlbWUtOCB7ICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYTE3Mjk5OyB9IC50aGVtZS04IC5sb2dvIGkgeyAgICAgY29sb3I6ICM5MTYyODk7IH0gLnRoZW1lLTggLm1kbC1jYXJkX19hY3Rpb25zIGkgeyAgICAgY29sb3I6ICM5MTYyODk7IH0gLnRoZW1lLTggLm1kbC1jYXJkX19hY3Rpb25zIGk6aG92ZXIgeyAgICAgY29sb3I6ICNkMGE4Yzk7IH0gLnRoZW1lLTkgeyAgICAgYmFja2dyb3VuZC1jb2xvcjogIzY5NmM2NzsgfSAudGhlbWUtOSAubG9nbyBpIHsgICAgIGNvbG9yOiAjNTk1YzU3OyB9IC50aGVtZS05IC5tZGwtY2FyZF9fYWN0aW9ucyBpIHsgICAgIGNvbG9yOiAjNTk1YzU3OyB9IC50aGVtZS05IC5tZGwtY2FyZF9fYWN0aW9ucyBpOmhvdmVyIHsgICAgIGNvbG9yOiAjYTZhOWE0OyB9IC50aGVtZS0xMCB7ICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2FiYjMzOyB9IC50aGVtZS0xMCAubG9nbyBpIHsgICAgIGNvbG9yOiAjYmFhYjIzOyB9IC50aGVtZS0xMCAubWRsLWNhcmRfX2FjdGlvbnMgaSB7ICAgICBjb2xvcjogI2JhYWIyMzsgfSAudGhlbWUtMTAgLm1kbC1jYXJkX19hY3Rpb25zIGk6aG92ZXIgeyAgICAgY29sb3I6ICNlZmU3OWU7IH0gLnNlbGVjdGVkSWNvbnsgICAgIGNvbG9yOiAjZTlmMWYzIWltcG9ydGFudDsgfSAubWRsLWNhcmRfX21lZGlhIHsgICAgIG1hcmdpbjogMDsgfSAgLm1kbC1jYXJkX19tZWRpYSA+IGltZyB7ICAgICBtYXgtd2lkdGg6IDEwMCU7IH0gIC5tZGwtY2FyZF9fYWN0aW9ucyB7ICAgICBkaXNwbGF5OiBmbGV4OyAgICAgYm94LXNpemluZzpib3JkZXItYm94OyAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsgfSAubWRsLWNhcmRfX2FjdGlvbnMgPiAubWRsLWJ1dHRvbi0taWNvbiB7ICAgICBtYXJnaW4tcmlnaHQ6IDNweDsgICAgIG1hcmdpbi1sZWZ0OiAzcHg7IH0gIC5tZGwtY2FyZDpob3ZlciB7ICAgICBib3gtc2hhZG93OiAwIDhweCAxMHB4IDFweCByZ2JhKDAsIDAsIDAsIC4xNCksIDAgM3B4IDE0cHggMnB4IHJnYmEoMCwgMCwgMCwgLjEyKSwgMCA1cHggNXB4IC0zcHggcmdiYSgwLCAwLCAwLCAuMik7ICAgICBjdXJzb3I6IHBvaW50ZXI7IH1cIl0sXG4gICAgcHJvdmlkZXJzOiBbQWN0aXZpdGlUYXNrTGlzdFNlcnZpY2VdXG59KVxuZXhwb3J0IGNsYXNzIEFjdGl2aXRpQXBwcyBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgICBwdWJsaWMgc3RhdGljIExBWU9VVF9MSVNUOiBzdHJpbmcgPSAnTElTVCc7XG4gICAgcHVibGljIHN0YXRpYyBMQVlPVVRfR1JJRDogc3RyaW5nID0gJ0dSSUQnO1xuICAgIHB1YmxpYyBzdGF0aWMgREVGQVVMVF9UQVNLU19BUFA6IHN0cmluZyA9ICd0YXNrcyc7XG4gICAgcHVibGljIHN0YXRpYyBERUZBVUxUX1RBU0tTX0FQUF9OQU1FOiBzdHJpbmcgPSAnVGFzayBBcHAnO1xuICAgIHB1YmxpYyBzdGF0aWMgREVGQVVMVF9UQVNLU19BUFBfVEhFTUU6IHN0cmluZyA9ICd0aGVtZS0yJztcbiAgICBwdWJsaWMgc3RhdGljIERFRkFVTFRfVEFTS1NfQVBQX0lDT046IHN0cmluZyA9ICdnbHlwaGljb24tYXN0ZXJpc2snO1xuICAgIHB1YmxpYyBzdGF0aWMgREVGQVVMVF9UQVNLU19BUFBfTUFURVJJQUxfSUNPTjogc3RyaW5nID0gJ2Zhdm9yaXRlX2JvcmRlcic7XG5cbiAgICBASW5wdXQoKVxuICAgIGxheW91dFR5cGU6IHN0cmluZyA9IEFjdGl2aXRpQXBwcy5MQVlPVVRfR1JJRDtcblxuICAgIEBPdXRwdXQoKVxuICAgIGFwcENsaWNrOiBFdmVudEVtaXR0ZXI8QXBwRGVmaW5pdGlvblJlcHJlc2VudGF0aW9uTW9kZWw+ID0gbmV3IEV2ZW50RW1pdHRlcjxBcHBEZWZpbml0aW9uUmVwcmVzZW50YXRpb25Nb2RlbD4oKTtcblxuICAgIEBPdXRwdXQoKVxuICAgIGVycm9yOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gICAgcHJpdmF0ZSBhcHBzT2JzZXJ2ZXI6IE9ic2VydmVyPEFwcERlZmluaXRpb25SZXByZXNlbnRhdGlvbk1vZGVsPjtcbiAgICBhcHBzJDogT2JzZXJ2YWJsZTxBcHBEZWZpbml0aW9uUmVwcmVzZW50YXRpb25Nb2RlbD47XG5cbiAgICBjdXJyZW50QXBwOiBBcHBEZWZpbml0aW9uUmVwcmVzZW50YXRpb25Nb2RlbDtcblxuICAgIGFwcExpc3Q6IEFwcERlZmluaXRpb25SZXByZXNlbnRhdGlvbk1vZGVsIFtdID0gW107XG5cbiAgICBwcml2YXRlIGljb25zTURMOiBJY29uTW9kZWw7XG5cbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB0cmFuc2xhdGUgVHJhbnNsYXRlIHNlcnZpY2VcbiAgICAgKiBAcGFyYW0gYWN0aXZpdGlUYXNrTGlzdCBUYXNrIHNlcnZpY2VcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHRyYW5zbGF0ZVNlcnZpY2U6IEFsZnJlc2NvVHJhbnNsYXRpb25TZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgYWN0aXZpdGlUYXNrTGlzdDogQWN0aXZpdGlUYXNrTGlzdFNlcnZpY2UpIHtcblxuICAgICAgICBpZiAodHJhbnNsYXRlU2VydmljZSkge1xuICAgICAgICAgICAgdHJhbnNsYXRlU2VydmljZS5hZGRUcmFuc2xhdGlvbkZvbGRlcignbmcyLWFjdGl2aXRpLXRhc2tsaXN0JywgJ25vZGVfbW9kdWxlcy9uZzItYWN0aXZpdGktdGFza2xpc3Qvc3JjJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFwcHMkID0gbmV3IE9ic2VydmFibGU8QXBwRGVmaW5pdGlvblJlcHJlc2VudGF0aW9uTW9kZWw+KG9ic2VydmVyID0+ICB0aGlzLmFwcHNPYnNlcnZlciA9IG9ic2VydmVyKS5zaGFyZSgpO1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNWYWxpZFR5cGUoKSkge1xuICAgICAgICAgICAgdGhpcy5zZXREZWZhdWx0TGF5b3V0VHlwZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5hcHBzJC5zdWJzY3JpYmUoKGFwcDogYW55KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFwcExpc3QucHVzaChhcHApO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5pY29uc01ETCA9IG5ldyBJY29uTW9kZWwoKTtcbiAgICAgICAgdGhpcy5sb2FkKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsb2FkKCkge1xuICAgICAgICB0aGlzLmFjdGl2aXRpVGFza0xpc3QuZ2V0RGVwbG95ZWRBcHBsaWNhdGlvbnMoKS5zdWJzY3JpYmUoXG4gICAgICAgICAgICAocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzLmZvckVhY2goKGFwcDogQXBwRGVmaW5pdGlvblJlcHJlc2VudGF0aW9uTW9kZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFwcC5kZWZhdWx0QXBwSWQgPT09IEFjdGl2aXRpQXBwcy5ERUZBVUxUX1RBU0tTX0FQUCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBwLm5hbWUgPSBBY3Rpdml0aUFwcHMuREVGQVVMVF9UQVNLU19BUFBfTkFNRTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcC50aGVtZSA9IEFjdGl2aXRpQXBwcy5ERUZBVUxUX1RBU0tTX0FQUF9USEVNRTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcC5pY29uID0gQWN0aXZpdGlBcHBzLkRFRkFVTFRfVEFTS1NfQVBQX0lDT047XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcHNPYnNlcnZlci5uZXh0KGFwcCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXBwLmRlcGxveW1lbnRJZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBzT2JzZXJ2ZXIubmV4dChhcHApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IuZW1pdChlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhc3MgdGhlIHNlbGVjdGVkIGFwcCBhcyBuZXh0XG4gICAgICogQHBhcmFtIGFwcFxuICAgICAqL1xuICAgIHB1YmxpYyBzZWxlY3RBcHAoYXBwOiBBcHBEZWZpbml0aW9uUmVwcmVzZW50YXRpb25Nb2RlbCkge1xuICAgICAgICB0aGlzLmN1cnJlbnRBcHAgPSBhcHA7XG4gICAgICAgIHRoaXMuYXBwQ2xpY2suZW1pdChhcHApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0cnVlIGlmIHRoZSBhcHBJZCBpcyB0aGUgY3VycmVudCBhcHBcbiAgICAgKiBAcGFyYW0gYXBwSWRcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBpc1NlbGVjdGVkKGFwcElkOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLmN1cnJlbnRBcHAgIT09IHVuZGVmaW5lZCAmJiBhcHBJZCA9PT0gdGhpcy5jdXJyZW50QXBwLmlkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0aGUgdmFsdWUgb2YgdGhlIGxheW91dFR5cGUgcHJvcGVydHkgaXMgYW4gYWxsb3dlZCB2YWx1ZVxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGlzVmFsaWRUeXBlKCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5sYXlvdXRUeXBlICYmICh0aGlzLmxheW91dFR5cGUgPT09IEFjdGl2aXRpQXBwcy5MQVlPVVRfTElTVCB8fCB0aGlzLmxheW91dFR5cGUgPT09IEFjdGl2aXRpQXBwcy5MQVlPVVRfR1JJRCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ24gdGhlIGRlZmF1bHQgdmFsdWUgdG8gTGF5b3V0VHlwZVxuICAgICAqL1xuICAgIHNldERlZmF1bHRMYXlvdXRUeXBlKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmxheW91dFR5cGUgPSBBY3Rpdml0aUFwcHMuTEFZT1VUX0dSSUQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRydWUgaWYgdGhlIGxheW91dCB0eXBlIGlzIExJU1RcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICBpc0xpc3QoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmxheW91dFR5cGUgPT09IEFjdGl2aXRpQXBwcy5MQVlPVVRfTElTVDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdHJ1ZSBpZiB0aGUgbGF5b3V0IHR5cGUgaXMgR1JJRFxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGlzR3JpZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGF5b3V0VHlwZSA9PT0gQWN0aXZpdGlBcHBzLkxBWU9VVF9HUklEO1xuICAgIH1cblxuICAgIGlzRW1wdHkoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcExpc3QubGVuZ3RoID09PSAwO1xuICAgIH1cblxuICAgIGdldFRoZW1lKGFwcDogQXBwRGVmaW5pdGlvblJlcHJlc2VudGF0aW9uTW9kZWwpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gYXBwLnRoZW1lID8gYXBwLnRoZW1lIDogJyc7XG4gICAgfVxuXG4gICAgZ2V0QmFja2dyb3VuZEljb24oYXBwOiBBcHBEZWZpbml0aW9uUmVwcmVzZW50YXRpb25Nb2RlbCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmljb25zTURMLm1hcEdseXBoaWNvblRvTWF0ZXJpYWxEZXNpZ25JY29ucyhhcHAuaWNvbik7XG4gICAgfVxuXG59XG4iXX0=
